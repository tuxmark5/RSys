#include <QtSql/QSqlQuery>
#include <RSys/Store/RSqlEntity.hh>

/********************************************* RS *********************************************/
/*                                         RSqlEntity                                         */
/**********************************************************************************************/

Vacuum RSqlEntity :: RSqlEntity()
{
}

/**********************************************************************************************/

Vacuum RSqlEntity :: ~RSqlEntity()
{
}

/**********************************************************************************************/

bool RSqlEntity :: commit(QSqlQuery& query)
{
  for (auto it = m_log.begin(); it != m_log.end(); ++it)
  {
    if (!query.exec(*it))
    {
      qDebug() << "FAILED TO EXEC" << *it;
    }
  }

  m_log.clear();
  return true;
}

/**********************************************************************************************/

void RSqlEntity :: exec(const QString& sql)
{
  m_log.append(sql);
}

/**********************************************************************************************/

void RSqlEntity :: init()
{
}

/**********************************************************************************************/

void RSqlEntity :: rollback()
{
  m_log.clear();
}

/**********************************************************************************************/

bool RSqlEntity :: select(QSqlQuery& query)
{
  return true;
}

/**********************************************************************************************/
